<?php
include("../model/database.php");
include("../controller/crudProdutos.php");
?>

<div class="more-recommended-products">
  <?php
  // Certifique-se de que $mongoDBColecao é uma instância válida de uma coleção MongoDB
  if ($colecao instanceof MongoDB\Collection) {
    $produtos = $colecao->find(); // Buscar todos os documentos da coleção
  
    // Verificar se foram encontrados documentos
    if ($produtos) {
      foreach ($produtos as $produto) {
        $tamanhos = explode(',', $produto->tamanho);
        ?>

        <div iv class="card">
          <img src="images/<?php echo $produto->imagem; ?>" class="img-produto" alt="">
          <div class="sobre-card">
            <div class="info-card">
              <div class="sobre-produto">
                <?php echo $produto->nome; ?>
              </div>
              <div class="preco">
                <p class="parcelas">Ou em 12x de R$
                  <?php echo round($produto->preco / 12, 2); ?>
                </p>
                <p class="preco-avista">R$
                  <?php echo $produto->preco; ?>
                </p>
              </div>
              <div class="desconto">20% OFF</div>
            </div>
            <div class="add" id="infoCarrinho">
              <div class="botoes">
                <button class="btn-carr-mais" id="addCarrinho">Colocar no Carrinho</button>
                <a href="detalhes-produto.php?id=<?php echo $produto->_id; ?>" class="btn-carr-mais">Mais Detalhes</a>
              </div>
            </div>
          </div>

          <div class="adicionar-produto">
            <div class="escolha">
              <div class="nome-produto">
                <h3>
                  <?php echo $produto->nome; ?>
                </h3>
              </div>

              <div class="tamanho">
                <h2>Tamanho</h2>
                <form>
                  <?php foreach ($tamanhos as $tamanho) { ?>
                    <label>
                      <input type="radio" name="tamanho" value="<?php echo $tamanho; ?>">
                      <span class="btn">
                        <?php echo $tamanho; ?>
                      </span>
                    </label>
                  <?php } ?>
                </form>
              </div>


              <div class="quantidade">
                <h2>Quantidade</h2>
                <div class="quantity">
                  <button class="btn-quantity" data-action="decrease">-</button>
                  <input class="input-quantity" type="number" min="1" value="1">
                  <button class="btn-quantity" data-action="increase">+</button>
                </div>
              </div>
            </div>

            <div class="confirmar-pedido">
              <div class="decide-pedido">
                <button class="btn-pedido cancelar-compra">Cancelar</button>
                <button class="btn-pedido confirmar-compra">Pronto</button>
              </div>
            </div>
          </div>
        </div>
        <?php
      }
    }
  }
  ?>

</div>

<div class="prev-next-bests">
  <span class="line-white"></span>
  <div class="prev-next">
    <div class="recommended--buttons">
      <button class="jump">
        <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M11.8999 11.3001L7.29994 6.70006C7.19994 6.60006 7.12894 6.49173 7.08694 6.37506C7.04494 6.25839 7.02461 6.13339 7.02594 6.00006C7.02594 5.86673 7.04694 5.74173 7.08894 5.62506C7.13094 5.50839 7.20161 5.40006 7.30094 5.30006L11.9009 0.70006C12.0843 0.516727 12.3136 0.421061 12.5889 0.413061C12.8643 0.405061 13.1016 0.500727 13.3009 0.70006C13.4843 0.883394 13.5759 1.11673 13.5759 1.40006C13.5759 1.68339 13.4843 1.91673 13.3009 2.10006L9.42494 6.00006L13.2999 9.90006C13.4833 10.0834 13.5793 10.3127 13.5879 10.5881C13.5966 10.8634 13.5006 11.1007 13.2999 11.3001C13.1166 11.4834 12.8833 11.5751 12.5999 11.5751C12.3166 11.5751 12.0833 11.4834 11.8999 11.3001ZM5.29994 11.3001L0.699942 6.70006C0.599942 6.60006 0.528942 6.49173 0.486942 6.37506C0.444942 6.25839 0.424276 6.13339 0.424942 6.00006C0.424942 5.86673 0.445942 5.74173 0.487942 5.62506C0.529942 5.50839 0.600609 5.40006 0.699942 5.30006L5.29994 0.70006C5.48328 0.516727 5.71261 0.421061 5.98794 0.413061C6.26328 0.405061 6.50061 0.500727 6.69994 0.70006C6.88328 0.883394 6.97494 1.11673 6.97494 1.40006C6.97494 1.68339 6.88328 1.91673 6.69994 2.10006L2.82494 6.00006L6.69994 9.90006C6.88328 10.0834 6.97928 10.3127 6.98794 10.5881C6.99661 10.8634 6.90061 11.1007 6.69994 11.3001C6.51661 11.4834 6.28328 11.5751 5.99994 11.5751C5.71661 11.5751 5.48328 11.4834 5.29994 11.3001Z"
            fill="#232323" />
        </svg>
      </button>

      <button class="one">
        <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.0249507 6.00005C0.0249507 5.86672 0.0499513 5.73738 0.0999515 5.61205C0.149952 5.48672 0.216618 5.38272 0.299951 5.30005L4.89995 0.700048C5.08328 0.516715 5.31662 0.425049 5.59995 0.425049C5.88329 0.425049 6.11662 0.516715 6.29995 0.700048C6.48328 0.883382 6.57495 1.11672 6.57495 1.40005C6.57495 1.68338 6.48328 1.91672 6.29995 2.10005L2.39995 6.00005L6.29995 9.90005C6.48328 10.0834 6.57495 10.3167 6.57495 10.6C6.57495 10.8834 6.48328 11.1167 6.29995 11.3C6.11662 11.4834 5.88328 11.575 5.59995 11.575C5.31662 11.575 5.08328 11.4834 4.89995 11.3L0.299951 6.70005C0.199951 6.60005 0.128951 6.49172 0.086951 6.37505C0.0449512 6.25838 0.0242841 6.13338 0.0249507 6.00005Z"
            fill="#232323" />
        </svg>
      </button>
    </div>

    <div class="pages-number">
      <div class="page">1</div>
      <div class="page">2</div>
      <div class="page">3</div>
    </div>

    <div class="recommended--buttons">
      <button class="jump">
        <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M6.97505 5.99995C6.97505 6.13328 6.95005 6.26262 6.90005 6.38795C6.85005 6.51328 6.78338 6.61728 6.70005 6.69995L2.10005 11.3C1.91672 11.4833 1.68338 11.575 1.40005 11.575C1.11671 11.575 0.883382 11.4833 0.700048 11.3C0.516715 11.1166 0.425049 10.8833 0.425049 10.6C0.425049 10.3166 0.516715 10.0833 0.700048 9.89995L4.60005 5.99995L0.700048 2.09995C0.516715 1.91662 0.425048 1.68328 0.425048 1.39995C0.425048 1.11662 0.516715 0.883286 0.700048 0.699952C0.883381 0.516619 1.11671 0.424951 1.40005 0.424951C1.68338 0.424951 1.91672 0.516619 2.10005 0.699952L6.70005 5.29995C6.80005 5.39995 6.87105 5.50828 6.91305 5.62495C6.95505 5.74162 6.97572 5.86662 6.97505 5.99995Z"
            fill="#232323" />
        </svg>

      </button>

      <button class="one">
        <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M2.10006 0.699941L6.70006 5.29994C6.80006 5.39994 6.87106 5.50827 6.91306 5.62494C6.95506 5.74161 6.97539 5.86661 6.97406 5.99994C6.97406 6.13327 6.95306 6.25827 6.91106 6.37494C6.86906 6.49161 6.79839 6.59994 6.69906 6.69994L2.09906 11.2999C1.91573 11.4833 1.68639 11.5789 1.41106 11.5869C1.13572 11.5949 0.898391 11.4993 0.699058 11.2999C0.515724 11.1166 0.424058 10.8833 0.424058 10.5999C0.424058 10.3166 0.515724 10.0833 0.699057 9.89994L4.57506 5.99994L0.700058 2.09994C0.516725 1.91661 0.420725 1.68727 0.412058 1.41194C0.403391 1.13661 0.499392 0.899274 0.700058 0.699941C0.883391 0.516607 1.11672 0.424939 1.40006 0.424939C1.68339 0.424939 1.91672 0.516607 2.10006 0.699941ZM8.70006 0.69994L13.3001 5.29994C13.4001 5.39994 13.4711 5.50827 13.5131 5.62494C13.5551 5.74161 13.5757 5.86661 13.5751 5.99994C13.5751 6.13327 13.5541 6.25827 13.5121 6.37494C13.4701 6.49161 13.3994 6.59994 13.3001 6.69994L8.70006 11.2999C8.51672 11.4833 8.28739 11.5789 8.01206 11.5869C7.73672 11.5949 7.49939 11.4993 7.30006 11.2999C7.11672 11.1166 7.02506 10.8833 7.02506 10.5999C7.02506 10.3166 7.11672 10.0833 7.30006 9.89994L11.1751 5.99994L7.30006 2.09994C7.11672 1.91661 7.02072 1.68727 7.01206 1.41194C7.00339 1.13661 7.09939 0.899273 7.30006 0.69994C7.48339 0.516607 7.71672 0.424939 8.00006 0.424939C8.28339 0.424939 8.51672 0.516607 8.70006 0.69994Z"
            fill="#232323" />
        </svg>
      </button>
    </div>


  </div>
</div>